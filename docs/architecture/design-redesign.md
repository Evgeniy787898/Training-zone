# TZONA V2 — компактный редизайн интерфейса

## Цели
- Максимальная читаемость и скорость: компактные отступы, короткие шрифтовые и цветовые токены, минимальные тени.
- Единый тёмный baseline: вся палитра строится вокруг Nocturne preset + акцент из профиля.
- Консистентность компонентов: карточки, панели и списки используют одну сетку, единые состояния наведения/фокуса/disabled.

## Дизайн‑система (токены)
- **Цвета**:
  - Фон/подложка: `--color-bg=#0c1220`, `--color-bg-secondary=#111b2f`, `--color-surface=#16243c`, `--color-surface-strong=#1d2d4c`.
  - Текст: `--color-text-primary=#e5edff`, `--color-text-secondary=#b9c6e4`, `--color-text-muted=#8a9bbf`.
  - Акцент: профильный `accent` + контраст `#0ea5e9` для фокуса и ссылок; состояния успех/варнинг/ошибка остаются как в базе.
  - Контраст: границы `rgba(255,255,255,0.08)`, hover/active усиливают непрозрачность до 0.14/0.18.
- **Типографика**: Inter 14/16/20/24 px; заголовки короче, межстрочный коэффициент 1.4; кнопки/инпуты 14 px.
- **Отступы**: базовая сетка 8 px, компактный шаг 4 px для вложенных элементов; карточки/панели используют 12–16 px внутри.
- **Радиусы и тени**: радиусы 10/14 px, тени сведены к `0 10px 30px rgba(0,0,0,0.22)` для карточек и `0 4px 14px rgba(0,0,0,0.2)` для интерактивных элементов.
- **Градиенты/бордеры**: лёгкие радиальные подсветки для акцентных секций, бордеры на поверхностях вместо плотных теней.

## Макет и сетка
- **Каркас**: единый max‑width 1280 px с полями 20 px; на мобильных — 100% ширины с safe‑area отступами.
- **Навигация**: фиксированный header 56–64 px с логотипом и иконками действий; breadcrumbs всегда под хедером.
- **Карточки**: двухколоночная сетка ≥1024 px, одна колонка на мобильных; список достижений и аналитики — виртуальный скролл с одинаковой высотой элементов.
- **Формы**: компактные поля 40 px высотой, внутренняя сетка 12 px, ошибки/хелп‑тексты в одну строку.

## Состояния и взаимодействия
- **Hover/Focus**: усиление бордера + лёгкая заливка `--color-surface-strong`; фокус‑рамка 2 px акцентного цвета с offset 2 px.
- **Active/Pressed**: смещение тени и лёгкое затемнение поверхности; отключённые элементы уменьшают непрозрачность текста до 60%.
- **Загрузка**: Skeleton + текстовый статус через `LoadingState`; длинные операции сопровождаются progress‑баром из `ProgressIndicator`.
- **Ошибки**: `ErrorBoundary` остаётся обёрткой для целых экранов; нотификации от `instantFeedback` показывают код/trace в dev.

## Страницы (основные принципы)
- **Today/Week**: карточки тренировок в компактных плитках с левым блоком статуса; медиа — через `OptimizedImage` с ленивой загрузкой.
- **Progress**: достижения и графики в двухколоночном макете; фильтры и поиск приколоты сверху, тело — виртуальный скролл.
- **Exercises**: каталог — гибкая сетка, модалка — выделенный раздел с sticky шапкой, табы/галерея используют одинаковые маргины.
- **Analytics**: разделить на «Сводка», «Тренды», «Экспорт»; данные загружаются прогрессивно (скелетоны → данные → графики).
- **Settings**: структурировать блоки в панели по 2 колонки на десктопе; theme‑customizer на отдельной панели с акцентом.

## Компоненты
- **Buttons**: три размера (xs 28 px, sm 36 px, md 44 px), тени только при hover, disabled без тени; primary = акцент, secondary = прозрачный с бордером.
- **Inputs**: единый инпут с подсветкой фокуса и inline‑валидацией, компактная высота 40 px, иконки на 14 px.
- **Cards/Panels**: фон `--color-bg-elevated`, бордер 1 px, тень xs; заголовок 14/16 px, разделители тонкие `rgba(255,255,255,0.06)`.
- **Lists**: виртуализация по умолчанию для длинных коллекций; высота элемента 64–72 px, выделение строки через фон/бордер.

## Доступность и международные версии
- Контраст минимум 4.5:1 для текста и 3:1 для UI‑элементов.
- Все интерактивные элементы имеют focus‑state, aria‑labels и корректный tab‑order.
- Строки статусов/ошибок и формат дат/валют — через локализованные ресурсы (существующий i18n слой).

## Гайд по внедрению
1) Применить токены (цвета/отступы/тени) в глобальных стилях и общих компонентах (кнопки, инпуты, карточки, панели).
2) Обновить ключевые страницы (Today, Progress, Exercises, Analytics, Settings) под указанный каркас и сетку.
3) Проверить контраст/фокус во всех состояниях, прогнать snapshot‑тесты UI.
4) Зафиксировать дизайн‑решения в changelog и держать Trello‑доску синхронной с планом.
